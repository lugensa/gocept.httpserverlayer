[buildout]
extends =
    ../profiles/base.cfg
    ../versions/plone-3.3.5.cfg
parts += zope2 instance

[versions]
collective.recipe.z2testrunner = 0.3.1
zope.testing = 3.9.5
zope.interface = 3.6.0
zope.exceptions = 3.5.0
zc.recipe.testrunner = 1.2.1
distribute = 0.6.24

[instance]
recipe = plone.recipe.zope2instance
zope2-location = ${zope2:location}
user = admin:admin
eggs = ${test:eggs}

[zope2]
recipe = plone.recipe.zope2install
fake-zope-eggs = true
additional-fake-eggs =
    ZODB3
url = ${versions:zope2-url}

[test]
# force zope2 parts to be installed before [test],
# so the fake eggs are present and buildout doesn't get confused
dummy = ${instance:zope2-location}
recipe = collective.recipe.z2testrunner
zope2part = instance
defaults = test --tests-pattern=test_
packages = ${buildout:package}.${buildout:test-package}
